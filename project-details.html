<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تفاصيل المشروع - إدعم</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Project Details Specific Styles */
        .project-hero {
            padding: 180px 0 60px;
            background: linear-gradient(135deg, rgba(91, 87, 199, 0.05) 0%, rgba(57, 193, 200, 0.05) 100%);
            position: relative;
            overflow: hidden;
        }

        .project-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .project-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .project-category {
            display: inline-block;
            background: rgba(91, 87, 199, 0.1);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .project-title {
            font-size: 2.5rem;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .project-meta {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .project-creator, .project-university, .project-date {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 0.95rem;
        }

        .project-gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 50px;
        }

        .main-image {
            grid-column: 1 / -1;
            height: 500px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .main-image:hover img {
            transform: scale(1.05);
        }

        .thumbnail {
            height: 200px;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
        }

        .thumbnail::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .thumbnail:hover {
            transform: translateY(-5px);
        }

        .thumbnail:hover::after {
            opacity: 1;
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .project-details {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            margin-bottom: 80px;
        }

        .project-description {
            background: var(--white);
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .project-description p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .project-sidebar {
            position: sticky;
            top: 100px;
        }

        .project-card-sidebar {
            background: var(--white);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .project-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin: 15px 0 25px;
            text-align: center;
        }

        .project-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .btn-block {
            width: 100%;
            text-align: center;
            padding: 15px;
            font-size: 1.1rem;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .project-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--dark);
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #777;
        }

        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 30px;
        }

        .tag {
            background: #f0f0f0;
            color: #555;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .tag:hover {
            background: var(--primary);
            color: white;
        }

        .related-projects {
            margin-bottom: 80px;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .related-project-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .related-project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .related-project-image {
            height: 200px;
            overflow: hidden;
        }

        .related-project-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .related-project-card:hover .related-project-image img {
            transform: scale(1.05);
        }

        .related-project-info {
            padding: 20px;
        }

        .related-project-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .related-project-creator {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: block;
        }

        .related-project-price {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
        }

        @media (max-width: 992px) {
            .project-details {
                grid-template-columns: 1fr;
            }

            .project-sidebar {
                position: static;
                margin-top: 40px;
            }
        }

        @media (max-width: 768px) {
            .project-gallery {
                grid-template-columns: 1fr;
            }

            .main-image {
                height: 350px;
            }

            .thumbnail {
                height: 150px;
            }

            .project-title {
                font-size: 2rem;
            }

            .project-meta {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="glass-navbar">
        <div class="nav-container">
            <div class="logo">
                <img src="images/logo.png" alt="شعار هيو" class="logo-img">
                <span>إدعم</span>
            </div>

            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> الرئيسية</a></li>
                <li><a href="store.html"><i class="fas fa-store"></i> المتجر</a></li>
                <li><a href="projects.html" class="active"><i class="fas fa-project-diagram"></i> المشاريع</a></li>
                <li><a href="#" id="notifications">
                    <i class="fas fa-bell"></i> الإشعارات
                    <span class="notification-badge">3</span>
                </a></li>
                <li><a href="profile.html"><i class="fas fa-user"></i> الشخصي</a></li>
                <li><a href="#" id="cart-btn" class="nav-cart"><i class="fas fa-bag-shopping"></i> السلة <span class="cart-badge" id="cart-badge">0</span></a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Project Hero Section -->
    <section class="project-hero">
        <div class="project-container">
            <div class="project-header">
                <span class="project-category" id="project-category">فنون تشكيلية</span>
                <h1 class="project-title" id="project-title">حقيبة قماشية مرسومة يدوياً</h1>
                <div class="project-meta">
                    <span class="project-creator" id="project-creator"><i class="fas fa-user"></i> سارة أحمد</span>
                    <span class="project-university" id="project-university"><i class="fas fa-university"></i> الجامعة الأردنية</span>
                    <span class="project-date"><i class="far fa-calendar-alt"></i> 15 ديسمبر 2025</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Gallery -->
    <div class="project-container">
        <div class="project-gallery">
            <div class="main-image">
                <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="حقيبة قماشية" id="main-image">
            </div>
            <div class="thumbnail" onclick="changeMainImage('https://images.unsplash.com/photo-1548036328-c9fa89d128fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80')">
                <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" alt="حقيبة قماشية">
            </div>
            <div class="thumbnail" onclick="changeMainImage('https://images.unsplash.com/photo-1590874103328-eac38a683ce7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80')">
                <img src="https://images.unsplash.com/photo-1590874103328-eac38a683ce7?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" alt="حقيبة قماشية">
            </div>
            <div class="thumbnail" onclick="changeMainImage('https://images.unsplash.com/photo-1609505848912-b7c3b8b4beda?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80')">
                <img src="https://images.unsplash.com/photo-1609505848912-b7c3b8b4beda?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" alt="حقيبة قماشية">
            </div>
            <div class="thumbnail" onclick="changeMainImage('https://images.unsplash.com/photo-1571330735066-03aaa9429d4c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80')">
                <img src="https://images.unsplash.com/photo-1571330735066-03aaa9429d4c?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" alt="حقيبة قماشية">
            </div>
        </div>

        <!-- Project Details -->
        <div class="project-details">
            <div class="project-description">
                <h2 class="section-title">تفاصيل المشروع</h2>
                <p id="project-desc">
                    حقيبة قماشية عصرية مصنوعة من القماش القطني عالي الجودة، مزينة برسومات يدوية تعبر عن التراث الأردني. تم تنفيذ التصميم يدوياً باستخدام ألوان أكريليك عالية الجودة ومثبتة بالحرارة لضمان ثبات الألوان وعدم تأثرها بالغسيل.
                </p>
                <p id="project-story">
                    تتميز الحقيبة بتصميمها الفريد والعملي، حيث تحتوي على جيب رئيسي كبير مع سحاب آمن، بالإضافة إلى جيب داخلي صغير للأغراض الصغيرة. يمكن استخدامها كحقيبة يومية أو حقيبة كمبيوتر محمول أو حتى كحقيبة سفر خفيفة.
                </p>
                <h3 class="section-title" style="margin-top: 40px;">مميزات الحقيبة</h3>
                <ul style="padding-right: 20px; color: #555; line-height: 2;">
                    <li>مصنوعة من قماش قطني عالي الجودة</li>
                    <li>رسومات يدوية فريدة من نوعها</li>
                    <li>ألوان أكريليك ثابتة ضد الغسيل</li>
                    <li>مقاسات متعددة تناسب جميع الاستخدامات</li>
                    <li>أشرطة كتف قابلة للتعديل</li>
                    <li>جيب داخلي صغير مع سحاب</li>
                </ul>

                <div class="project-tags">
                    <span class="tag">#فنون_تشكيلية</span>
                    <span class="tag">#أشغال_يدوية</span>
                    <span class="tag">#تراث_أردني</span>
                    <span class="tag">#إكسسوارات</span>
                </div>
            </div>

            <div class="project-sidebar">
                <div class="project-card-sidebar">
                    <h3 class="section-title">ادعم هذا المشروع</h3>
                    <div class="project-price" id="project-price">15 دينار</div>
                    <div class="progress-wrap">
                        <div style="display:flex;justify-content:space-between;align-items:center;">
                            <span class="muted">التقدم</span>
                            <span class="pill" id="project-progress-label">70%</span>
                        </div>
                        <div class="progress-bar" style="margin-top:8px;">
                            <div class="progress-fill" id="project-progress-fill" style="width: 0;"></div>
                        </div>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-primary btn-block" id="add-to-cart-btn"><i class="fas fa-shopping-cart"></i> أضف إلى السلة</button>
                        <button class="btn btn-outline btn-block"><i class="far fa-heart"></i> أضف إلى المفضلة</button>
                    </div>
                    <div class="project-stats">
                        <div class="stat-item">
                            <span class="stat-value">87</span>
                            <span class="stat-label">مشاهدات</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">24</span>
                            <span class="stat-label">إعجاب</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">12</span>
                            <span class="stat-label">مبيعات</span>
                        </div>
                    </div>
                </div>

                <div class="project-card-sidebar">
                    <h3 class="section-title">عن المبدع</h3>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="سارة أحمد" style="width: 70px; height: 70px; border-radius: 50%; object-fit: cover; border: 3px solid var(--primary);">
                        <div>
                            <h4 style="margin: 0; color: var(--dark);">سارة أحمد</h4>
                            <p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">طالبة فنون تشكيلية</p>
                        </div>
                    </div>
                    <p style="color: #555; margin-bottom: 20px; font-size: 0.95rem;">
                        فنانة تشكيلية شابة، متخصصة في الرسم على القماش والأشغال اليدوية. أهتم بالجمع بين الفن المعاصر والتراث الأردني الأصيل.
                    </p>
                    <button class="btn btn-outline btn-block" style="margin-top: 15px;">عرض الملف الشخصي</button>
                </div>
            </div>
        </div>

        <!-- Related Projects -->
        <div class="related-projects">
            <h2 class="section-title">مشاريع مشابهة</h2>
            <div class="related-grid">
                <!-- Project 1 -->
                <div class="related-project-card">
                    <div class="related-project-image">
                        <img src="https://images.unsplash.com/photo-1571330735066-03aaa9429d4c?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="لوحة فنية">
                    </div>
                    <div class="related-project-info">
                        <h3 class="related-project-title">لوحة فنية تجريدية</h3>
                        <span class="related-project-creator">بواسطة زياد خالد</span>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span class="related-project-price">40 دينار</span>
                            <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;">عرض التفاصيل</button>
                        </div>
                    </div>
                </div>

                <!-- Project 2 -->
                <div class="related-project-card">
                    <div class="related-project-image">
                        <img src="https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="إكسسوارات يدوية">
                    </div>
                    <div class="related-project-info">
                        <h3 class="related-project-title">إكسسوارات يدوية</h3>
                        <span class="related-project-creator">بواسطة نور حسن</span>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span class="related-project-price">25 دينار</span>
                            <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;">عرض التفاصيل</button>
                        </div>
                    </div>
                </div>

                <!-- Project 3 -->
                <div class="related-project-card">
                    <div class="related-project-image">
                        <img src="https://images.unsplash.com/photo-1542272454315-4db01c421c05?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="أطباق خزفية">
                    </div>
                    <div class="related-project-info">
                        <h3 class="related-project-title">أطباق خزفية مطلية يدوياً</h3>
                        <span class="related-project-creator">بواسطة أحمد علي</span>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span class="related-project-price">35 دينار</span>
                            <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;">عرض التفاصيل</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>عن إدعم</h3>
                    <p>منصة لدعم المشاريع الطلابية الإبداعية وربط المبدعين ببعضهم البعض</p>
                </div>
                <div class="footer-section">
                    <h3>روابط سريعة</h3>
                    <ul>
                        <li><a href="about.html">عن المنصة</a></li>
                        <li><a href="contact.html">اتصل بنا</a></li>
                        <li><a href="terms.html">الشروط والأحكام</a></li>
                        <li><a href="privacy.html">سياسة الخصوصية</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>تواصل معنا</h3>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
            </div>
        </div>
    </footer>

    <!-- Notifications Panel -->
    <div class="notifications-panel">
        <div class="notifications-header">
            <h3>الإشعارات</h3>
            <button class="close-notifications"><i class="fas fa-times"></i></button>
        </div>
        <div class="notifications-list">
            <!-- Notifications will be loaded dynamically -->
        </div>
    </div>

    <div class="cart-drawer" id="cart-drawer" aria-hidden="true">
        <div class="cart-header">
            <h3>سلة التسوق</h3>
            <button class="cart-close" id="cart-close"><i class="fas fa-times"></i></button>
        </div>
        <div class="cart-body" id="cart-items"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>المجموع</span>
                <strong id="cart-total">0 دينار</strong>
            </div>
            <button class="btn btn-primary btn-block" id="checkout-btn">إتمام الطلب</button>
        </div>
    </div>
    <div class="cart-backdrop" id="cart-backdrop" aria-hidden="true"></div>

    <script src="js/main.js"></script>
    <script>
        // Function to change the main image when clicking on thumbnails
        function changeMainImage(src) {
            document.getElementById('main-image').src = src;
        }

        // Get project ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = urlParams.get('id');

        function getItemById(id) {
            const data = window.IdamData || {};
            const pid = Number(id);
            const fromProjects = Array.isArray(data.projects) ? data.projects.find(p => p.id === pid) : null;
            if (fromProjects) return fromProjects;
            const fromStore = Array.isArray(data.storeItems) ? data.storeItems.find(p => p.id === pid) : null;
            return fromStore;
        }

        function renderDetails(item) {
            if (!item) return;

            const titleEl = document.getElementById('project-title');
            const catEl = document.getElementById('project-category');
            const creatorEl = document.getElementById('project-creator');
            const uniEl = document.getElementById('project-university');
            const priceEl = document.getElementById('project-price');
            const descEl = document.getElementById('project-desc');
            const storyEl = document.getElementById('project-story');
            const mainImg = document.getElementById('main-image');
            const progLabel = document.getElementById('project-progress-label');
            const progFill = document.getElementById('project-progress-fill');

            if (titleEl) titleEl.textContent = item.title || 'مشروع متميز';
            document.title = `${item.title || 'مشروع متميز'} - إدعم`;

            if (catEl && item.category) catEl.textContent = item.category;
            if (creatorEl && item.creator) creatorEl.innerHTML = `<i class="fas fa-user"></i> ${item.creator}`;
            if (uniEl && item.university) uniEl.innerHTML = `<i class="fas fa-university"></i> ${item.university}`;
            if (priceEl && item.price) priceEl.textContent = item.price;

            if (descEl) descEl.textContent = item.description || descEl.textContent;
            if (storyEl) storyEl.textContent = item.storyWhy || item.storyDream || storyEl.textContent;

            if (mainImg && item.image) {
                mainImg.src = item.image;
                mainImg.alt = item.title || mainImg.alt;
            }

            const progress = typeof item.progress === 'number' ? item.progress : 0;
            if (progLabel) progLabel.textContent = `${progress}%`;
            if (progFill) requestAnimationFrame(() => { progFill.style.width = `${progress}%`; });
        }

        if (projectId) {
            const item = getItemById(projectId);
            renderDetails(item);
        }

        const addBtn = document.getElementById('add-to-cart-btn');
        if (addBtn && projectId) {
            addBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (typeof addToCart === 'function') {
                    addToCart(projectId, 1);
                    if (typeof openCart === 'function') {
                        openCart();
                    }
                }
            });
        }

        // Initialize the main JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // This will initialize the main.js functionality
            if (typeof init === 'function') {
                init();
            }
        });
    </script>
</body>
</html>
